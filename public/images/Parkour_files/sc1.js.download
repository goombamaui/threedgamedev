function scene_one(eng){
	var scene = new BABYLON.Scene(engine);
	
	scene.enableCollisions=true;
	
	//host or client
	try {
		var serverLocation=location.host
	} catch (err){var serverLocation = serverLoc};
	
	
	//collisions
		
	var noColMeshes = ["Ocean_mesh"];
	
	// Meshes

	
	
	BABYLON.SceneLoader.LoadAssetContainer("http://"+serverLocation+"/babylonFiles/scene2_tests/", "scene2.glb", scene,function(container){
	var meshes=container.meshes;
	
	//Textures for imported mesh (only on client)
	
	if (eng){
		
		
		
		
		

	waterMaterial.bumpTexture = new BABYLON.Texture("images/waterbump.png", scene);
	
	waterMaterial.windForce = -10;
	waterMaterial.waveHeight = 1;
	waterMaterial.windDirection = new BABYLON.Vector2(1, 1);
	waterMaterial.waterColor = new BABYLON.Color3(0.1, 0.1, 0.6);
	waterMaterial.colorBlendFactor = 0.4;
	waterMaterial.waterColor = new BABYLON.Color3(0.1, 0.1, 0.6);
	waterMaterial.bumpHeight = 1;
	waterMaterial.waveLength = 0.1;
	waterMaterial.waveCount=1000;
	waterMaterial.waveSpeed=2;
	
	
	
	
	
	};

	
	
	//Adding gravity and textures to meshes
	for (i=0; i<meshes.length; i++){
		var k = meshes[i];
		if (noColMeshes.indexOf(k.name)==-1){
			k.checkCollisions=true;
			k.isPickable=true;
		};
		
		// Textures (Only for client);
		if (eng){
			
			
			
			
			
		if (k.name=="Ocean_mesh"){
			k.material=waterMaterial;
			k.backFaceCulling=false;
		};
		
		if (k.name=="Ground"){
			ground=k;
			waterMaterial.addToRenderList(ground);
		};
		
		if (k.name=="noColl_bg1"){
			k.backFaceCulling=false;
			meshes.splice(meshes.indexOf(k), 1);
		};
		
		
		
		} else {
			if (k.name=="noColl_bg1"){
				meshes.splice(meshes.indexOf(k), 1);
			} else if (k.name=="Ocean_mesh"){
				meshes.splice(meshes.indexOf(k), 1);
			};
		};
	};
	
	
	
	//putting meshes into scene;
	
	container.addAllToScene()
	});
	
	

	
	if (eng) {
		[camera, player]=defineCamera(scene, canvas);	
		var light = new BABYLON.HemisphericLight("light1",
		new BABYLON.Vector3(1,1,0), scene);
		light.diffuse = new BABYLON.Color3(0.8,0.8,0.8);
		light.specular = new BABYLON.Color3(3,3,0);
		
		var playerPointLight = new BABYLON.PointLight("pointLight", new BABYLON.Vector3(1, 10, 1), scene);
		playerPointLight.diffuse = new BABYLON.Color4(0.9, 0.9, 0.9, 1);
		
		//SKYBOX
		var skybox = BABYLON.MeshBuilder.CreateBox("skyBox", {size:10000.0}, scene);
		var skyboxMaterial = new BABYLON.StandardMaterial("skyBox", scene);
		skyboxMaterial.backFaceCulling = false;
		skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture("images/skybox_space/skybox", scene);
		skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
		skyboxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);
		skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);
		skybox.material = skyboxMaterial;
		waterMaterial = new BABYLON.WaterMaterial("water", scene);
		waterMaterial.addToRenderList(skybox);
		
		


		scene.registerBeforeRender(function(){
			cameraLoop(scene,canvas);
			playerPointLight.position=player.position;
		});
	} else {
		camera = new BABYLON.FreeCamera("FreeCamera", new BABYLON.Vector3(0, -800, -20), scene);
	};
	
	return scene;
};

sceneOne = scene_one()

runScene(sceneOne);